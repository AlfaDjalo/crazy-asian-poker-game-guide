"use strict";(self.webpackChunkcrazy_asian_poker_game_guide=self.webpackChunkcrazy_asian_poker_game_guide||[]).push([[331],{3513:(e,t,n)=>{n.d(t,{A:()=>h});var o=n(6540),r=n(9030),a=n(4848);const l=e=>{let{card:t}=e;return(0,o.useEffect)((()=>{t&&console.log("Card rendered:",t)}),[t]),t?(0,a.jsx)("img",{src:`https://deckofcardsapi.com/static/img/${t}.png`,alt:t,className:"poker-card",onError:e=>{console.error(`Failed to load card image for ${t}`),e.target.className="poker-card-error",e.target.alt=t,e.target.src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg'/%3E",e.target.insertAdjacentHTML("afterend",`<div style="position:absolute;">${t}</div>`)}}):(0,a.jsx)("span",{className:"poker-card-empty"})},s=()=>{const e=["A","2","3","4","5","6","7","8","9","0","J","Q","K"],t=["H","D","C","S"].flatMap((t=>e.map((e=>`${e}${t}`))));return i([...t])},i=e=>{const t=[...e];for(let n=t.length-1;n>0;n--){const e=Math.floor(Math.random()*(n+1));[t[n],t[e]]=[t[e],t[n]]}return t},c=10,d=1e3,u=e=>{const t=e.toString();if(3!==t.length)return console.error(`Invalid position format: ${e}. Expected xyz format.`),null;const n=parseInt(t[0],10),o=parseInt(t[1],10),r=parseInt(t[2],10);return n>=5||o>=c||![0,1,2].includes(r)?(console.error(`Invalid position values: row=${n}, col=${o}, offset=${r}`),null):{row:n,col:o,offset:r}},f=(e,t,n)=>({displayRow:e,displayCol:t}),h=e=>{let{configPath:t="/data/boards/double-board.json",predefinedCards:n=null,dealDelayMs:i=d}=e;const h=(0,r.Ay)(t),[p,g]=(0,o.useState)(null),[m,b]=(0,o.useState)([]),[x,w]=(0,o.useState)(0),[y,C]=(0,o.useState)(0),[k,v]=(0,o.useState)(!1),[j,S]=(0,o.useState)(null),[$,M]=(0,o.useState)(new Set),[A,N]=(0,o.useState)((()=>Array(5).fill(null).map((()=>Array(c).fill(null))))),O=(0,o.useMemo)((()=>n?Array.isArray(n)&&n.length>0&&Array.isArray(n[0])?n.flat():n:null),[n]),R=(0,o.useCallback)((()=>{w(0),C(0),v(!1),M(new Set),N(Array(5).fill(null).map((()=>Array(c).fill(null))))}),[]),E=(0,o.useCallback)((e=>{if(!p?.boardCardSchedule)return[];let t=[];for(let n=0;n<=e;n++)n<p.boardCardSchedule.length&&(t=[...t,...p.boardCardSchedule[n]]);return t}),[p]),z=(0,o.useMemo)((()=>{if(!p?.boardCardSchedule)return{rowOffset:0,colOffset:0};return(e=>{if(!e||0===e.length)return{rowOffset:0,colOffset:0};let t=5,n=-1,o=c,r=-1;e.forEach((e=>{const a=u(e);if(a){const{displayRow:e,displayCol:l}=f(a.row,a.col,a.offset);t=Math.min(t,e),n=Math.max(n,e),o=Math.min(o,l),r=Math.max(r,l)}}));const a=n-t+1,l=r-o+1;return{rowOffset:Math.floor((5-a)/2)-t,colOffset:Math.floor((c-l)/2)-o}})(p.boardCardSchedule.flat())}),[p]);(0,o.useEffect)((()=>{console.log("Fetching config from:",h),fetch(h).then((e=>{if(!e.ok)throw new Error(`HTTP error! Status: ${e.status} \u2014 URL: ${h}`);return e.json()})).then((e=>{console.log("Config loaded:",e),g(e);const t=s();b(t),console.log("Generated random deck:",t),R()})).catch((e=>{console.error("Failed to load config:",e),S(`Failed to load config: ${e.message}`)}))}),[h,R]),(0,o.useEffect)((()=>{var e;!O||(e=O,Array.isArray(e)&&e.every((e=>null===e||(e=>{if(!e||"string"!=typeof e||2!==e.length)return!1;const t=e[0],n=e[1];return["A","2","3","4","5","6","7","8","9","0","J","Q","K"].includes(t)&&["H","D","C","S"].includes(n)})(e))))||S("Invalid predefined cards format")}),[O]),(0,o.useEffect)((()=>{if(!p||!k)return;const e=E(x);if(y<e.length){const t=setTimeout((()=>{const t=e[y];_(t,y,z),C(y+1)}),i);return()=>clearTimeout(t)}v(!1)}),[y,k,p,x,i,E,z]);const _=(e,t,n)=>{const o=u(e);if(!o)return;const{row:r,col:a,offset:l}=o,{displayRow:s,displayCol:i}=f(r,a),c=Math.max(0,Math.min(4,s+n.rowOffset)),d=Math.max(0,Math.min(9,i+n.colOffset));let h=null;h=O&&t<O.length?O[t]:m[t]||null,console.log(`Dealing card ${h} to position ${e} (${r},${a}) -> display (${s},${i}) -> centered (${c},${d})`);const p={card:h,originalRow:r,originalCol:a,offset:l,displayRow:c,displayCol:d,positionStr:e,isSelected:!1};N((e=>{const t=e.map((e=>[...e]));return t[c][d]=p,t}))};(0,o.useEffect)((()=>{p&&0===x&&!k&&0===y&&p.boardCardSchedule?.length>0&&(console.log("Auto-starting preflop deal"),v(!0))}),[p]);return j?(0,a.jsxs)("div",{className:"error-message",children:["Error: ",j]}):p?(0,a.jsxs)("div",{className:"poker-board-viewer",children:[(0,a.jsx)("h3",{children:p.name}),(0,a.jsx)("div",{className:"poker-grid",children:Array(5).fill(null).map(((e,t)=>(0,a.jsx)("div",{className:"poker-row",children:Array(c).fill(null).map(((e,n)=>{const o=A[t][n],r=t-z.rowOffset,s=n-z.colOffset,i=`${r}${s}`,d=r>=0&&s>=0?p?.boardNames?.[i]:null;return(0,a.jsxs)("div",{className:"poker-cell",children:[d&&(0,a.jsx)("div",{className:"board-name",children:d}),o&&(0,a.jsx)("div",{className:`card-container ${o.isSelected?"selected":""} ${1===o.offset?"offset-up":""} ${2===o.offset?"offset-right":""}`,onClick:()=>(e=>{if(!e)return;console.log(`Card clicked: ${e.card} at (${e.originalRow},${e.originalCol}), currently selected: ${e.isSelected}`);const{originalRow:t,originalCol:n,offset:o}=e,r=`${t}-${n}`;M((e=>{const t=new Set(e);return t.has(r)?t.delete(r):t.add(r),console.log("Selection toggled. New selection state:",t),t})),N((o=>{const r=o.map((e=>[...e])),a=!e.isSelected;for(let e=0;e<5;e++)for(let o=0;o<c;o++){const l=r[e][o];if(l&&l.originalRow===t&&l.originalCol===n){r[e][o]={...l,isSelected:a};break}}return r}))})(o),children:(0,a.jsx)(l,{card:o.card})})]},`${t}-${n}`)}))},t)))}),(0,a.jsxs)("div",{className:"controls",children:[(0,a.jsx)("button",{onClick:()=>{if(console.log("dealNextStreet called, current step:",x,"config length:",p?.boardCardSchedule?.length),!p||x>=p.boardCardSchedule.length-1)return;const e=x+1,t=E(x);w(e),v(!0),C(t.length)},disabled:x>=p.boardCardSchedule.length-1||k,children:"Deal Next Street"}),(0,a.jsx)("button",{onClick:()=>{if(!O){const e=s();b(e),console.log("Reshuffled deck:",e)}R()},disabled:k,children:"Replay Hand"})]})]}):(0,a.jsx)("div",{className:"loading",children:"Loading poker board configuration..."})}},3997:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>i,default:()=>f,frontMatter:()=>s,metadata:()=>o,toc:()=>d});const o=JSON.parse('{"id":"help-files/board-configurations/countdown","title":"Countdown","description":"Description of Countdown board configuration","source":"@site/docs/help-files/board-configurations/countdown.mdx","sourceDirName":"help-files/board-configurations","slug":"/help-files/board-configurations/countdown","permalink":"/crazy-asian-poker-game-guide/help-files/board-configurations/countdown","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/help-files/board-configurations/countdown.mdx","tags":[],"version":"current","sidebarPosition":10,"frontMatter":{"title":"Countdown","description":"Description of Countdown board configuration","sidebar_position":10},"sidebar":"tutorialSidebar","previous":{"title":"Flying Rivers","permalink":"/crazy-asian-poker-game-guide/help-files/board-configurations/flying-rivers"},"next":{"title":"Funnel","permalink":"/crazy-asian-poker-game-guide/help-files/board-configurations/funnel"}}');var r=n(4848),a=n(8453),l=n(3513);const s={title:"Countdown",description:"Description of Countdown board configuration",sidebar_position:10},i=void 0,c={},d=[];function u(e){const t={li:"li",p:"p",ul:"ul",...(0,a.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.p,{children:"The board is dealt out as per the diagram below, with each street\r\nincreasing the size of the right-angled triangle. It is generally played\r\nhigh-only with no variants."}),"\n",(0,r.jsx)(l.A,{configPath:"/data/boards/countdown.json"}),"\n",(0,r.jsx)(t.p,{children:"This is a five-point game, with:"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsx)(t.p,{children:"one point for the best make-5 hand using either the top (4-card)\r\nhorizontal line or the leftmost (4-card) vertical line;"}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsx)(t.p,{children:"One point for the best make-5 hand using the second (3-card)\r\nhorizontal line or the second (3-card) vertical line;"}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsx)(t.p,{children:"One point for the best make-5 hand using the third (2-card) horizontal\r\nline or the third (2-card) vertical line;"}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsx)(t.p,{children:"One point for the best make-5 hand using the fourth (1-card)\r\nhorizontal line or the fourth (1-card) vertical line;"}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsx)(t.p,{children:"One point for the best Hand Point;"}),"\n"]}),"\n"]})]})}function f(e={}){const{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(u,{...e})}):u(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>l,x:()=>s});var o=n(6540);const r={},a=o.createContext(r);function l(e){const t=o.useContext(a);return o.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function s(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),o.createElement(a.Provider,{value:t},e.children)}}}]);