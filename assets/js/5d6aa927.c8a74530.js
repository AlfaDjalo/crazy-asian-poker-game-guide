"use strict";(self.webpackChunkcrazy_asian_poker_game_guide=self.webpackChunkcrazy_asian_poker_game_guide||[]).push([[960],{3513:(e,r,o)=>{o.d(r,{A:()=>g});var t=o(6540),n=o(9030),s=o(4848);const l=e=>{let{card:r}=e;return(0,t.useEffect)((()=>{r&&console.log("Card rendered:",r)}),[r]),r?(0,s.jsx)("img",{src:`https://deckofcardsapi.com/static/img/${r}.png`,alt:r,className:"poker-card",onError:e=>{console.error(`Failed to load card image for ${r}`),e.target.className="poker-card-error",e.target.alt=r,e.target.src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg'/%3E",e.target.insertAdjacentHTML("afterend",`<div style="position:absolute;">${r}</div>`)}}):(0,s.jsx)("span",{className:"poker-card-empty"})},a=()=>{const e=["A","2","3","4","5","6","7","8","9","0","J","Q","K"],r=["H","D","C","S"].flatMap((r=>e.map((e=>`${e}${r}`))));return i([...r])},i=e=>{const r=[...e];for(let o=r.length-1;o>0;o--){const e=Math.floor(Math.random()*(o+1));[r[o],r[e]]=[r[e],r[o]]}return r},c=10,d=1e3,f=e=>{const r=e.toString();if(3!==r.length)return console.error(`Invalid position format: ${e}. Expected xyz format.`),null;const o=parseInt(r[0],10),t=parseInt(r[1],10),n=parseInt(r[2],10);return o>=5||t>=c||![0,1,2].includes(n)?(console.error(`Invalid position values: row=${o}, col=${t}, offset=${n}`),null):{row:o,col:t,offset:n}},u=(e,r,o)=>({displayRow:e,displayCol:r}),g=e=>{let{configPath:r="/data/boards/double-board.json",predefinedCards:o=null,dealDelayMs:i=d}=e;const g=(0,n.Ay)(r),[h,p]=(0,t.useState)(null),[m,y]=(0,t.useState)([]),[x,w]=(0,t.useState)(0),[b,v]=(0,t.useState)(0),[j,C]=(0,t.useState)(!1),[S,k]=(0,t.useState)(null),[$,R]=(0,t.useState)(new Set),[M,A]=(0,t.useState)((()=>Array(5).fill(null).map((()=>Array(c).fill(null))))),N=(0,t.useMemo)((()=>o?Array.isArray(o)&&o.length>0&&Array.isArray(o[0])?o.flat():o:null),[o]),E=(0,t.useCallback)((()=>{w(0),v(0),C(!1),R(new Set),A(Array(5).fill(null).map((()=>Array(c).fill(null))))}),[]),F=(0,t.useCallback)((e=>{if(!h?.boardCardSchedule)return[];let r=[];for(let o=0;o<=e;o++)o<h.boardCardSchedule.length&&(r=[...r,...h.boardCardSchedule[o]]);return r}),[h]),O=(0,t.useMemo)((()=>{if(!h?.boardCardSchedule)return{rowOffset:0,colOffset:0};return(e=>{if(!e||0===e.length)return{rowOffset:0,colOffset:0};let r=5,o=-1,t=c,n=-1;e.forEach((e=>{const s=f(e);if(s){const{displayRow:e,displayCol:l}=u(s.row,s.col,s.offset);r=Math.min(r,e),o=Math.max(o,e),t=Math.min(t,l),n=Math.max(n,l)}}));const s=o-r+1,l=n-t+1;return{rowOffset:Math.floor((5-s)/2)-r,colOffset:Math.floor((c-l)/2)-t}})(h.boardCardSchedule.flat())}),[h]);(0,t.useEffect)((()=>{console.log("Fetching config from:",g),fetch(g).then((e=>{if(!e.ok)throw new Error(`HTTP error! Status: ${e.status} \u2014 URL: ${g}`);return e.json()})).then((e=>{console.log("Config loaded:",e),p(e);const r=a();y(r),console.log("Generated random deck:",r),E()})).catch((e=>{console.error("Failed to load config:",e),k(`Failed to load config: ${e.message}`)}))}),[g,E]),(0,t.useEffect)((()=>{var e;!N||(e=N,Array.isArray(e)&&e.every((e=>null===e||(e=>{if(!e||"string"!=typeof e||2!==e.length)return!1;const r=e[0],o=e[1];return["A","2","3","4","5","6","7","8","9","0","J","Q","K"].includes(r)&&["H","D","C","S"].includes(o)})(e))))||k("Invalid predefined cards format")}),[N]),(0,t.useEffect)((()=>{if(!h||!j)return;const e=F(x);if(b<e.length){const r=setTimeout((()=>{const r=e[b];D(r,b,O),v(b+1)}),i);return()=>clearTimeout(r)}C(!1)}),[b,j,h,x,i,F,O]);const D=(e,r,o)=>{const t=f(e);if(!t)return;const{row:n,col:s,offset:l}=t,{displayRow:a,displayCol:i}=u(n,s),c=Math.max(0,Math.min(4,a+o.rowOffset)),d=Math.max(0,Math.min(9,i+o.colOffset));let g=null;g=N&&r<N.length?N[r]:m[r]||null,console.log(`Dealing card ${g} to position ${e} (${n},${s}) -> display (${a},${i}) -> centered (${c},${d})`);const h={card:g,originalRow:n,originalCol:s,offset:l,displayRow:c,displayCol:d,positionStr:e,isSelected:!1};A((e=>{const r=e.map((e=>[...e]));return r[c][d]=h,r}))};(0,t.useEffect)((()=>{h&&0===x&&!j&&0===b&&h.boardCardSchedule?.length>0&&(console.log("Auto-starting preflop deal"),C(!0))}),[h]);return S?(0,s.jsxs)("div",{className:"error-message",children:["Error: ",S]}):h?(0,s.jsxs)("div",{className:"poker-board-viewer",children:[(0,s.jsx)("h3",{children:h.name}),(0,s.jsx)("div",{className:"poker-grid",children:Array(5).fill(null).map(((e,r)=>(0,s.jsx)("div",{className:"poker-row",children:Array(c).fill(null).map(((e,o)=>{const t=M[r][o],n=r-O.rowOffset,a=o-O.colOffset,i=`${n}${a}`,d=n>=0&&a>=0?h?.boardNames?.[i]:null;return(0,s.jsxs)("div",{className:"poker-cell",children:[d&&(0,s.jsx)("div",{className:"board-name",children:d}),t&&(0,s.jsx)("div",{className:`card-container ${t.isSelected?"selected":""} ${1===t.offset?"offset-up":""} ${2===t.offset?"offset-right":""}`,onClick:()=>(e=>{if(!e)return;console.log(`Card clicked: ${e.card} at (${e.originalRow},${e.originalCol}), currently selected: ${e.isSelected}`);const{originalRow:r,originalCol:o,offset:t}=e,n=`${r}-${o}`;R((e=>{const r=new Set(e);return r.has(n)?r.delete(n):r.add(n),console.log("Selection toggled. New selection state:",r),r})),A((t=>{const n=t.map((e=>[...e])),s=!e.isSelected;for(let e=0;e<5;e++)for(let t=0;t<c;t++){const l=n[e][t];if(l&&l.originalRow===r&&l.originalCol===o){n[e][t]={...l,isSelected:s};break}}return n}))})(t),children:(0,s.jsx)(l,{card:t.card})})]},`${r}-${o}`)}))},r)))}),(0,s.jsxs)("div",{className:"controls",children:[(0,s.jsx)("button",{onClick:()=>{if(console.log("dealNextStreet called, current step:",x,"config length:",h?.boardCardSchedule?.length),!h||x>=h.boardCardSchedule.length-1)return;const e=x+1,r=F(x);w(e),C(!0),v(r.length)},disabled:x>=h.boardCardSchedule.length-1||j,children:"Deal Next Street"}),(0,s.jsx)("button",{onClick:()=>{if(!N){const e=a();y(e),console.log("Reshuffled deck:",e)}E()},disabled:j,children:"Replay Hand"})]})]}):(0,s.jsx)("div",{className:"loading",children:"Loading poker board configuration..."})}},8453:(e,r,o)=>{o.d(r,{R:()=>l,x:()=>a});var t=o(6540);const n={},s=t.createContext(n);function l(e){const r=t.useContext(s);return t.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function a(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:l(e.components),t.createElement(s.Provider,{value:r},e.children)}},9969:(e,r,o)=>{o.r(r),o.d(r,{assets:()=>c,contentTitle:()=>i,default:()=>u,frontMatter:()=>a,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"help-files/board-configurations/flying-rivers","title":"Flying Rivers","description":"Description of Flying Rivers configuration","source":"@site/docs/help-files/board-configurations/flying-rivers.mdx","sourceDirName":"help-files/board-configurations","slug":"/help-files/board-configurations/flying-rivers","permalink":"/crazy-asian-poker-game-guide/help-files/board-configurations/flying-rivers","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/help-files/board-configurations/flying-rivers.mdx","tags":[],"version":"current","sidebarPosition":9,"frontMatter":{"title":"Flying Rivers","description":"Description of Flying Rivers configuration","sidebar_position":9},"sidebar":"tutorialSidebar","previous":{"title":"Double Bullseye","permalink":"/crazy-asian-poker-game-guide/help-files/board-configurations/double-bullseye"},"next":{"title":"Countdown","permalink":"/crazy-asian-poker-game-guide/help-files/board-configurations/countdown"}}');var n=o(4848),s=o(8453),l=o(3513);const a={title:"Flying Rivers",description:"Description of Flying Rivers configuration",sidebar_position:9},i=void 0,c={},d=[];function f(e){const r={li:"li",p:"p",ul:"ul",...(0,s.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.p,{children:"Two flops are dealt, each with two cards."}),"\n",(0,n.jsx)(r.p,{children:"Two turns are dealt, each with two cards."}),"\n",(0,n.jsx)(r.p,{children:"One river is dealt with two cards."}),"\n",(0,n.jsx)(r.p,{children:"To make a hand a player uses two cards from one flop and turn, one from\r\nthe river, and two from their hand."}),"\n",(0,n.jsx)(l.A,{configPath:"/data/boards/flying-rivers.json"}),"\n",(0,n.jsx)(r.p,{children:"Variants of Flying Rivers include:"}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsxs)(r.li,{children:["\n",(0,n.jsx)(r.p,{children:"High/high/hand (3 points);"}),"\n"]}),"\n",(0,n.jsxs)(r.li,{children:["\n",(0,n.jsx)(r.p,{children:"High/low/hand (3 points);"}),"\n"]}),"\n",(0,n.jsxs)(r.li,{children:["\n",(0,n.jsx)(r.p,{children:"High/low/high/low/hand (5 points)."}),"\n"]}),"\n"]})]})}function u(e={}){const{wrapper:r}={...(0,s.R)(),...e.components};return r?(0,n.jsx)(r,{...e,children:(0,n.jsx)(f,{...e})}):f(e)}}}]);